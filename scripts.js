(()=>{const e=document,t=(e,t)=>e.style.transform=`translateX(-${t}px)`,o=()=>{const e=document.getElementById("hero-slides"),o=document.querySelectorAll(".hero-dots .dot");if(!e||o.length===0)return;let n=0,a=e.children.length;const c=()=>{n=(n+1)%a,t(e,100*n),o.forEach((e,t)=>e.classList.toggle("active",t===n))};o.forEach((t,o)=>t.addEventListener("click",()=>{n=o,c()})),setInterval(c,5e3)},n=()=>{if("undefined"==typeof emailjs)return;emailjs.init("HXCThZROMytOt-wyp");const e=document.getElementById("contactForm");e&&e.addEventListener("submit",(t)=>{t.preventDefault(),emailjs.sendForm("service_1ffkva1","template_ypdj9n9",e).then(()=>{alert("邮件已发送成功！"),e.reset()}).catch((e=>{console.error("邮件发送失败:",e),alert("邮件发送失败，请稍后再试。")}))})},a=()=>{document.querySelector(".compare-features .btn")?.addEventListener("click",()=>alert("对比功能暂未实现！"))},c=()=>{const e=document.getElementById("menuIcon"),t=document.getElementById("mobileNav"),o=document.getElementById("closeBtn");e&&t&&o&&(e.addEventListener("click",()=>t.classList.add("active")),o.addEventListener("click",()=>t.classList.remove("active")),t.querySelectorAll("ul li a").forEach((e=>{e.addEventListener("click",()=>t.classList.remove("active"))})))},s=()=>{document.querySelectorAll("[data-modal-target]").forEach((e=>{e.addEventListener("click",()=>{document.querySelector(e.getAttribute("data-modal-target"))?.classList.add("active")})})),document.querySelectorAll("[data-modal-close]").forEach((e=>{e.addEventListener("click",()=>{e.closest(".modal")?.classList.remove("active")})}))},d=()=>{const e=document.getElementById("infiniteScroller"),o=document.querySelector(".pause-btn");if(!e||!o)return;const n=["brookside.png","riverside.png","coastal.png","forest.png"],a=()=>{const t=document.createElement("div");t.className="infinite-scroller-track",t.style.display="flex",t.style.position="relative",t.style.transform="translateX(0)",e.appendChild(t),n.forEach((e=>{const o=document.createElement("div");o.className="infinite-scroller-item";const n=document.createElement("img");n.src=e,n.style.width="100%",o.appendChild(n),t.appendChild(o)}))};let c=!1;function s(){c=!c,o.classList.toggle("paused")}o.addEventListener("click",s),a()},l=()=>{document.querySelectorAll(".product-card img").forEach((e=>{e.addEventListener("click",()=>{window.location.href=e.alt.toLowerCase().replace(/\s+/g,"-")+".html"})}))},r=()=>{document.querySelectorAll(".flip-btn-front").forEach((e=>{e.addEventListener("click",()=>{e.closest(".card").style.transform="rotateY(180deg)"})})),document.querySelectorAll(".flip-btn-back").forEach((e=>{e.addEventListener("click",()=>{e.closest(".card").style.transform="rotateY(0deg)"})}))},i=()=>{const e=document.getElementById("animationCanvas"),t=e?.getContext("2d");if(!e||!t)return;const o=["landscape1.png","landscape2.png","landscape3.png"],n=[],a=()=>{o.forEach(((e,t)=>{const o=new Image;o.src=e,o.onload=()=>{n[t]=o}}))};a(),setInterval((()=>{t.clearRect(0,0,e.width,e.height),t.drawImage(n[Math.floor(Math.random()*n.length)],0,0,e.width,e.height)}),1e3)},m=()=>{const e=document.querySelector(".carousel-track"),o=document.querySelectorAll(".carousel-slide"),n=document.querySelectorAll(".carousel-dot"),a=document.querySelector(".carousel-prev"),c=document.querySelector(".carousel-next");if(!e||o.length===0||!n.length)return;let s=1,d=o[0].offsetWidth+15,l=()=>{t(e,s*d),n.forEach((e,t)=>e.classList.toggle("active",t===s-1))},r=()=>{s=(s+1)%o.length,l()},i=()=>{s=(s-1+o.length)%o.length,l()};a?.addEventListener("click",()=>{i()}),c?.addEventListener("click",()=>{r()}),setInterval(r,5e3),l()};e.addEventListener("DOMContentLoaded",()=>{o(),n(),a(),c(),s(),d(),l(),r(),i(),m()})})();
