!function(){function n(n,e){var t=0,i=n.length;function o(){t++,t>=i&&e()}n.forEach(function(n){n.complete?o():(n.addEventListener("load",o),n.addEventListener("error",o))}),i===0&&e()}/* Hero轮播 */;var e=function(){var n=document.getElementById("hero-slides"),e=document.querySelectorAll(".hero-dots .dot");if(!n||0===e.length)return;var t=0,i=n.children.length,o=function(){t=(t+1)%i,n.style.transform="translateX(-"+100*t+"%)",e.forEach(function(n,e){n.classList.toggle("active",e===t)})};e.forEach(function(n,e){n.addEventListener("click",function(){t=e,n.style.transform="translateX(-"+100*t+"%)",e.forEach(function(n,i){n.classList.toggle("active",i===t)})})}),setInterval(o,5e3)}/* EmailJS */;var t=function(){if("undefined"==typeof emailjs)return;emailjs.init("HXCThZROMytOt-wyp");var n=document.getElementById("contactForm");n&&n.addEventListener("submit",function(e){e.preventDefault(),emailjs.sendForm("service_1ffkva1","template_ypdj9n9",n).then(function(){alert("邮件已发送成功，我们将尽快与您联系！"),n.reset()}).catch(function(e){console.error("邮件发送失败：",e),alert("邮件发送失败，请稍后再试。")})})},i=function(){var n=document.querySelector(".compare-features .btn");n&&n.addEventListener("click",function(){alert("对比功能暂未实现 (预留)！")})},o=function(){var n=document.getElementById("menuIcon"),e=document.getElementById("mobileNav"),t=document.getElementById("closeBtn");if(!n||!e||!t)return;n.addEventListener("click",function(){e.classList.add("active")}),t.addEventListener("click",function(){e.classList.remove("active")});var i=e.querySelectorAll("ul li a");i.forEach(function(n){n.addEventListener("click",function(){e.classList.remove("active")})})},a=function(){document.querySelectorAll("[data-modal-target]").forEach(function(n){n.addEventListener("click",function(){var e=document.querySelector(n.getAttribute("data-modal-target"));e&&e.classList.add("active")})}),document.querySelectorAll("[data-modal-close]").forEach(function(n){n.addEventListener("click",function(){var e=n.closest(".modal");e&&e.classList.remove("active")})})},c=function(){var n=document.getElementById("infiniteScroller"),e=document.querySelector(".pause-btn");if(!n||!e)return;var t=["A peaceful brookside setting.png","A scenic riverside bend.png","A serene coastal shore.png","A shaded forest path.png"],i=!1,a=0,c=0,d=[],r;return r=document.createElement("div"),r.className="infinite-scroller-track",r.style.display="flex",r.style.position="relative",r.style.transform="translateX(0)",n.appendChild(r),t.forEach(function(n){s(n)}),function s(i){var a=document.createElement("div");a.className="infinite-scroller-item",a.style.position="absolute",a.style.width="100%";var c=document.createElement("img");c.src=i,c.alt=i,c.style.width="100%",c.style.objectFit="cover",a.appendChild(c),r.appendChild(a);var o=d.length===0?0:d[d.length-1].x+a.offsetWidth;a.style.left=o+"px";var l={el:a,x:o,width:a.offsetWidth};d.push(l)},function s(){for(var n=0;n<d.length;n++){var e=d[n];e.x-=a*((performance.now()-c)/16.67),e.el.style.left=e.x+"px"}var i=d[d.length-1];i.x+i.width<window.innerWidth+100&&s(t[d.length%t.length])},e.classList.remove("paused"),e.addEventListener("click",function(){i=!i,e.classList.toggle("paused")}),requestAnimationFrame(function s(e){if(!i){var t=e-c; c=e, s(),s()}requestAnimationFrame(s)}),void 0}/* 图片点击跳转 */;var r=function(){document.querySelectorAll(".product-card img").forEach(function(n){n.addEventListener("click",function(){var e=n.alt.toLowerCase().replace(/\s+/g,"-")+".html";window.location.href=e})})},d=function(){document.querySelectorAll(".flip-btn-front").forEach(function(n){n.addEventListener("click",function(){n.closest(".card").style.transform="rotateY(180deg)"})}),document.querySelectorAll(".flip-btn-back").forEach(function(n){n.addEventListener("click",function(){n.closest(".card").style.transform="rotateY(0deg)"})})},l=function(){var n=document.getElementById("animationCanvas"),e=n&&n.getContext("2d");if(!n||!e)return;var t=["A young man standing in a natural landscape1.png","A young man standing in a natural landscape2.png","A young man standing in a natural landscape3.png"],i=[],a=0,c=!0,d=0.02,l=1e3/24,o=0,s=0,f=document.getElementById("playPauseButton");t.forEach(function(n,e){var s=new Image;s.src=n,s.onload=function(){i[e]=s, s.length===1&&requestAnimationFrame(u)},s.onerror=function(){console.error("❌ 图片加载失败: "+n)}});function u(n){if(!p()||0===i.length)return;if(n-o>l){e.clearRect(0,0,n.width,n.height);var s=(a+1)%t.length; i[a]&&(e.globalAlpha=1-m(),v(i[a])),i[s]&&(e.globalAlpha=m(),v(i[s])),d+=0.02,d>=1&&(d=0,a=s),o=n}requestAnimationFrame(u)}function m(){return d}function v(n){var t=n.width,i=n.height;e.drawImage(n,0,0,t,i)}f&&f.addEventListener("click",function(){var n=!p(); f.textContent=n?"❚❚":"▶", n&&requestAnimationFrame(u)}),f&&(f.textContent="❚❚")}/* 触摸轮播 */;var p=function(){var n=document.querySelector(".touch1-carousel-track"),e=Array.from(n? n.children:[]),t=document.querySelector(".touch1-prev-btn"),i=document.querySelector(".touch1-next-btn");if(!n||0===e.length||!t||!i)return;var o=0,s=615+15;function a(){n.style.transform="translateX(-"+o*s+"px)",t.disabled=0===o,i.disabled=o===e.length-1}t.addEventListener("click",function(){o>0&&(o--,a())}),i.addEventListener("click",function(){o<e.length-1&&(o++,a())}),a()}/* spec1 无限轮播 */;var g=function(){var n=document.querySelector(".spec1-carousel-container"),e=document.querySelector(".spec1-carousel-track");let t=Array.from(document.querySelectorAll(".spec1-carousel-slide")),i=document.querySelector(".spec1-carousel-prev"),a=document.querySelector(".spec1-carousel-next");if(!n||!e||0===t.length||!i||!a){console.warn("spec1 hand-control carousel: elements or arrows not found!");return}const c=t.length;let g=1,l=!1,d=0,j=15;const r=t[0].cloneNode(!0),o=t[c-1].cloneNode(!0);e.appendChild(r),e.insertBefore(o,e.firstChild),t=Array.from(e.querySelectorAll(".spec1-carousel-slide"));function s(){window.innerWidth<=768?(t.forEach(b=>{b.style.width=document.querySelector(".spec1-carousel-container").offsetWidth*0.85+"px"}),j=document.querySelector(".spec1-carousel-container").offsetWidth*0.04,d=document.querySelector(".spec1-carousel-container").offsetWidth*0.85+j):(t.forEach(b=>{b.style.width=""}),j=15,d=t[1].getBoundingClientRect().width+j)}function u(n){s(),e.style.transition=n?"transform 0.5s ease-in-out":"none",e.style.transform=window.innerWidth<=768?"translateX("+-g*d+j/2+"px)":"translateX("+-g*d+"px)",t.forEach(n=>n.classList.remove("active","prev","next","shadow")),t[g]&&t[g].classList.add("active");var b=(g+1)%t.length,c=(g-1+t.length)%t.length;t[b]&&t[b].classList.add("next"),t[c]&&t[c].classList.add("prev"),t.forEach(n=>{!n.classList.contains("active")&&n.classList.add("shadow")}),t.forEach(n=>{var e=n.querySelector("a");e&&(e.style.pointerEvents=n.classList.contains("active")?"auto":"none")})}function v(){if(l)return;l=!0,g++,u(!0),setTimeout(function(){g===t.length-1&&(e.style.transition="none",g=t.length-2,u(!1)),l=!1},500)}function w(){if(l)return;l=!0,g--,u(!0),setTimeout(function(){g===0&&(e.style.transition="none",g=t.length-2,u(!1)),l=!1},500)}i.addEventListener("click",()=>{!l&&w()}),a.addEventListener("click",()=>{!l&&v()}),t.forEach(n=>{n.addEventListener("click",function(e){n.classList.contains("active")||(n.classList.contains("next")?(e.preventDefault(),!l&&v()):n.classList.contains("prev")&&(e.preventDefault(),!l&&w()));var a=n.querySelector(".spec1-explore-btn");a&&a.addEventListener("click",function(e){e.stopPropagation()})})});let h=0;let p=!1;n.addEventListener("touchstart",function(n){n.touches.length===1&&!l&&(h=n.touches[0].clientX,p=!0)},{passive:!0});n.addEventListener("touchmove",()=>{}, {passive:!0});n.addEventListener("touchend",function(n){if(!p)return;p=!1;const e=n.changedTouches[0].clientX;Math.abs(e-h)>20&&(e<h?v():w())},{passive:!0});function y(){l=!1,e.style.transition="none",u(!1),setTimeout(function(){e.style.transition="transform 0.5s ease-in-out"},50)};window.addEventListener("resize",y),e.style.transition="none",u(!1),setTimeout(function(){e.style.transition="transform 0.5s ease-in-out"},50),i.style.display="block",a.style.display="block",window.innerWidth<=768?(i.style.display="block",a.style.display="block"):(i.style.display="block",a.style.display="block")},H=function(){document.querySelectorAll(".product-card img").forEach(n=>{n.addEventListener("click",function(){var e=n.alt.toLowerCase().replace(/\s+/g,"-")+".html";window.location.href=e})})},I=function(){document.querySelectorAll(".flip-btn-front").forEach(n=>{n.addEventListener("click",function(){n.closest(".card").style.transform="rotateY(180deg)"})});document.querySelectorAll(".flip-btn-back").forEach(n=>{n.addEventListener("click",function(){n.closest(".card").style.transform="rotateY(0deg)"})})},J=function(){document.addEventListener("DOMContentLoaded",function(){e(),t(),i(),o(),a(),c(),H(),I()});window.addEventListener("load",function(){var n=document.querySelectorAll(".spec1-carousel-slide img");n.length>0&&n(Array.from(n),function(){initspec1ManualCarouselTrack()})})};document.addEventListener("DOMContentLoaded",function(){initHeroCarousel();initEmailJS();initCompareFeature();initHamburgerMenu();initModalWindows();initInfiniteScroller();initProductImageClick();initFlipCards();initFrameAnimation();initTouch1CarouselTrack()});window.addEventListener("load",function(){var n=document.querySelectorAll(".spec1-carousel-slide img");n.length>0&&n(Array.from(n),function(){initspec1ManualCarouselTrack()})})}();
